@*
 * Template Organize Register
 * input Sequence of Player (no, id, name, clubname, status, coName, coId, coTyp, coStatus, email) 
 *@
@import shared.utils.Constants._ 
@import shared.utils.UseCaseParam  
@import shared.utils.twirlhelper._ 
@import clientviews.component.helper.html._

@(players: Seq[(Long, String, String, String, Int, String, Long, Int, Int, String)])(implicit ucc: UseCaseParam)
@getNameWithClub(name:String,club:String) = @{ s"${name}[${club}]"}
@checked(value: Boolean) = @{ if(value) "checked" else "" } 

@if(players.isEmpty) {
	<div  class="alert alert-info text-center" role="alert">
		<span class="tuse-font-1">@msg("player.noentry")</span>
	</div>
} else {
	<table class="table table-sm small table-hover tuse-border">
		<tbody>
			<tr style="border-bottom:2px solid #ccc;">
				<td class="text-left tuse-height">
					<a href="javascript:OrganizePlayer.sortByNo();"><strong>@msg("player.tbl.hdr.no")</strong></a>
				</td>
				<td class="text-left tuse-height">&nbsp;</td>
				<td class="text-left tuse-height"><i id='@id("SortNameIcon")' class="fa fa-sort" ></i>
					<a href="javascript:OrganizePlayer.sortByName();"><strong>@msg("player.tbl.hdr.name")</strong></a>
				</td>
				<td class="text-left tuse-height"><i id='@id("SortCompIcon")' class="fa fa-sort"></i>
					<a href="javascript:OrganizePlayer.sortByComp();"><strong>@msg("player.tbl.hdr.competition")</strong></a>
				</td>
				<td class="text-center tuse-height"><strong>@msg("player.tbl.hdr.signup")</strong></td>
				<td class="text-right tuse-height">
					<i class="fa fa-sort"></i>
					<a href="javascript:OrganizePlayer.sortByStatus();"><strong>@msg("player.tbl.hdr.status")</strong></a>
				</td>
			</tr>
			<tr @id("ControlPlayerDummy")></tr>
			@for(player <- players) {	
				<tr>
					<td class="text-left tuse-height">
						<strong>@player._2</strong>
					</td>
					<td class="text-left tuse-height">
						@if(player._10!="") { <a href="mailto:@player._10"><i class="fa fa-envelope-o"></i></a> }
					</td>
					<td class="text-left tuse-height">@getNameWithClub(player._3,player._4)</td>
					<td class="text-left tuse-height">@player._6</td>
					<td class="text-center tuse-height">
						@if(-1==player._5){
							@button("player.btn.accept","","btn-xs","SetStatus", player._7.toString, player._2.toString, "PLS_SIGN")
							@button("player.btn.reject","","btn-xs","SetStatus", player._7.toString, player._2.toString, "PLS_RJEC")
							@button("player.btn.wait","","btn-xs","SetStatus", player._7.toString, player._2.toString, "PLS_WAIT")
						}
						@if(player._5>=0){ <i class="fa fa-check"></i>	}			
					</td>
					<td class="text-right tuse-height">
						<input class="form-check-input" type="checkbox" value="" 
						  @onclick("CheckActiv",player._2) @checked(player._5>0) @if(player._9>CP_INIT){disabled="disabled"}>
					</td>
				</tr>		      
			}
		</tbody>
	</table>
}
@*
 * Template for drawing a group on a position
 *
 * Start Test:
 * http://localhost:9000/start?ucName=TestMain&ucParam=OrganizeCompetitionDraw
 * 
 *@
@import shared.model._ 
@import shared.utils.UseCaseParam  
@import shared.utils.twirlhelper._ 
@import clientviews.component.helper.html._

@(group: Group)(implicit ucc: UseCaseParam)

@grpHeader(grName: String, size: Int) = @{ Html(s"""
  <td rowspan="${size*2}" style="width:30px;" class="border p-1 text-center"><h5 class="font-weight-bold">${grName}</h5></td>""")
}

@grpView(g: Group, gPos:Int) = @{ Html(s"""
  <td rowspan="2" style="width:30px;" class="border p-1 text-center"><small class="font-weight-bold">${g.drawPos+gPos}</small></td>
  <td rowspan="2" contenteditable='true' style="width:30px;" class="border-top border-bottom border-right text-center p-1">
    <small data-drawPos='${g.drawPos+gPos}' data-grId='${g.grId}' data-grpPos='${gPos}' data-sno='${g.pants(gPos).sno}' class="font-weight-bold text-info">${g.drawPos+gPos}</small>
  </td>
  <td rowspan="2" class="border-top border-bottom border-right p-1"><small data-drawName='${g.drawPos+gPos}'>${g.pants(gPos).name}</small></td>
  <td rowspan="2" class="border-top border-bottom border-right p-1"><small data-drawClub='${g.drawPos+gPos}'>${g.pants(gPos).club}</small></td>
  <td rowspan="2" class="border-top border-bottom border-right p-1"><small data-drawTTR='${g.drawPos+gPos}' >${g.pants(gPos).rating}</small></td>    
""")  
}
@tdrb() = @{ Html(s"""<td class="tdDrawGroup border-right border-bottom"></td>""") }
@tdr()  = @{ Html(s"""<td class="tdDrawGroup border-right"></td>""") }
@tdb()  = @{ Html(s"""<td class="tdDrawGroup border-bottom"></td>""") }
@tdt()  = @{ Html(s"""<td class="tdDrawGroup border-top"></td>""") }
@tdtr() = @{ Html(s"""<td class="tdDrawGroup border-top border-right"></td>""") }
@td(x:String="") = @{ Html(s"""<td class="tdDrawGroup">${x}</td>""") }

<tr><td colspan="6" style="border-bottom: 1px solid black; height:1px;"></td><td colspan="3" style="height:1px;"></td></tr>
@group.size match {
  case 3 => {
    <tr>@grpHeader(group.name, group.size) @grpView(group, 0) @tdb @td() @td("")</tr>
    <tr>@tdr @td() @td()</tr>
    <tr>@grpView(group, 1) @tdr @td() @td("")</tr>
    <tr>@tdr @td() @td()</tr>
    <tr>@grpView(group, 2) @tdrb @td() @td("")</tr>
    <tr>@td() @td() @td()</tr>
  }

  case 4 => {
    <tr>@grpHeader(group.name, group.size) @grpView(group, 0) @tdb @td() @td("")</tr>
    <tr>@tdr @td() @td()</tr>
    <tr>@grpView(group, 1) @tdr @td() @td("")</tr>
    <tr>@tdr @td() @td()</tr>
    <tr>@grpView(group, 2) @tdrb @td() @td("")</tr>
    <tr>@td() @td() @td()</tr>
    <tr>@grpView(group, 3) @tdrb @td() @td("")</tr>
    <tr>@td() @td() @td()</tr>    
  }

  case 5 => {
    <tr>@grpHeader(group.name, group.size) @grpView(group, 0) @tdb @td() @td("")</tr>
    <tr>@tdr @td() @td()</tr>
    <tr>@grpView(group, 1) @tdr @td() @td("")</tr>
    <tr>@tdr @td() @td()</tr>
    <tr>@grpView(group, 2) @tdrb @td() @td("")</tr>
    <tr>@tdr() @td() @td()</tr>
    <tr>@grpView(group, 3) @tdrb @td() @td("")</tr>
    <tr>@tdr() @td() @td()</tr>  
    <tr>@grpView(group, 4) @tdrb @td() @td("")</tr>
    <tr>@td() @td() @td()</tr> 
  }

  case 6 => {
    <tr>@grpHeader(group.name, group.size) @grpView(group, 0) @tdb @td() @td("")</tr>
    <tr>@tdr @td() @td()</tr>
    <tr>@grpView(group, 1) @tdr @td() @td("")</tr>
    <tr>@tdr @td() @td()</tr>
    <tr>@grpView(group, 2) @tdrb @td() @td("")</tr>
    <tr>@tdr() @td() @td()</tr>
    <tr>@grpView(group, 3) @tdrb @td() @td("")</tr>
    <tr>@tdr() @td() @td()</tr>  
    <tr>@grpView(group, 4) @tdrb @td() @td("")</tr>
    <tr>@tdr() @td() @td()</tr> 
    <tr>@grpView(group, 5) @tdrb @td() @td("")</tr>
    <tr>@tdr() @td() @td()</tr> 
  }

}

@*
 * Template for controlling competition phases
 * 
 *@
@import shared.model._ 
@import shared.utils.UseCaseParam  
@import shared.utils.twirlhelper._ 
@import shared.utils.Constants._
@import clientviews.component.helper.html._
@import clientviews.component.input.html._


@(coId: Long, coPhId: Int)(implicit ucc: UseCaseParam)

<div @id(s"Ctrl_${coId}_${coPhId}") class="m-1">

  <div class="card mb-1">
    <div class="card-body">
      <h6 class="card-title">
        @msg("lbl.state")
        <button type='button' class='btn btn-outline-danger btn-xs ml-2' disabled><strong @id(s"Status_${coId}_${coPhId}")>AUSLOSUNG</strong></button>
      </h6>
      <ul class='mb-0'>
        <li @id(s"Config_${coId}_${coPhId}")>KO-Runde 5 4er-Gruppen und 3 3er-Gruppen</li>
        <li @id(s"Finished_${coId}_${coPhId}")>13 von 14 Spielen beendet</li>
      </ul>
    </div>
  </div>

  <div class="card mb-1">
    <div class="card-body">
      <h6 class="card-title">AKTIONEN</h6>
      <div class="row mb-1">
        <div class="col-2">
          <button @id(s"StartBtn_${coId}_${coPhId}") type='button' class='btn btn-outline-secondary btn-xs ml-1 mr-1' @actionEvent("StartRound", "onclick")>@msg("std.btn.start")</button>
        </div>
        <div class="col">
          Spielphase/Runde starten
        </div>
      </div>

      <div class="row mb-1">
        <div class="col-2">
          <button @id(s"ResetBtn_${coId}_${coPhId}") type='button' class='btn btn-outline-secondary btn-xs ml-1 mr-1'  @actionEvent("ResetRound", "onclick")>@msg("btn.reset")</button>
        </div>
        <div class="col">
          Spielphase/Runde in den Zustand AUSLOSUNG zurücksetzen. Achtung alle Ergebniseingaben dieser Runde und alle nachfolgenden Runden werden gelöscht.
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-2">
          <button @id(s"DeleteBtn_${coId}_${coPhId}") type='button' class='btn btn-outline-secondary btn-xs ml-1 mr-1'  @actionEvent("DeleteRound", "onclick")>@msg("btn.delete")</button>
        </div>
        <div class="col">Spielphase/Runde löschen. Achtung nachfolgenden Runden werden ebenfalls gelöscht.</div>
      </div>

      <div class="row mb-0">
        <div class="col">@inputCheckbox("DemoBtn", "mb-0", coId, coPhId)</div>
      </div>
    </div>
  </div>

  <div class="card mb-1">
    <div class="tuse-card-header">		
      <div class="float-left mt-2">
        <a @Html(collapse("SuccCompPhase")) >
          <h6 class="text-dark"><i class="fa fa-fw fa-bars"></i>@msg("lbl.following")</h6>
        </a>
      </div>
      <div class="float-right mt-1 mr-1">
        <button @id(s"StartFollowingBtn_${coId}_${coPhId}") type='button' class='btn btn-outline-secondary btn-xs ml-1 mr-1' @actionEvent("StartFollowingRound", "onclick")>@msg("lbl.start")</button>
      </div>
    </div>

    <div @id("SuccCompPhase") class="card-body collapse">
      <div @id("SuccCompPhaseDisabled") >
        Nachfolgende Runde erst nach Beendigung dieser Runde konfigurierbar
      </div>
      <div @id("SuccCompPhaseEnabled") >
        <div class="row mb-1">
          <div class="col-3">@msg("lbl.nameround")</div>
          <div class="col">@inputTextPlh(name="name",_class="form-control-xs", lbl="", hlp="", minlength=2)</div>
        </div>
        <div class="row mb-1">
          <div class="col-3">@msg("lbl.gamesystem")</div>
          <div class="col">
            <select @id("CfgSelection") class="form-control-xs" @actionEvent("Selection", "onchange")>
              <option value='7'>3er und 4er Gruppen-Runde</option>
            </select>
          </div>
          <div class="col d-flex justify-content-end">@msg("lbl.winsets")</div>
          <div class="col-auto">
            <select @id("CfgWinset") class="form-control-xs" >
              <option value='2'>2</option>
              <option value='3' selected>3</option>
              <option value='4'>4</option>
            </select>
          </div>
        </div>
        <div class="row mb-2">
          <div class="col-3">@msg("lbl.pantbase")</div>
          <div class="col">
            <input data-coId='@coId' data-coPhId='@coPhId' type="radio" @id("Winner") class="" @name("WinLooAll") value="@PANT_SELECT_WINNER" checked @actionEvent("WinLooAll", "onclick")>
            <label class="mb-0 pb-0 pt-0 col-form-label-sm" @forAttr("Winner")>@msg("lbl.winner")</label>
            <input data-coId='@coId' data-coPhId='@coPhId' type="radio" @id("Looser") class="" @name("WinLooAll") value="@PANT_SELECT_LOOSER" @actionEvent("WinLooAll", "onclick")>
            <label class="mb-0 pb-0 pt-0 col-form-label-sm" @forAttr("Looser") >@msg("lbl.looser")</label>      
            <input data-coId='@coId' data-coPhId='@coPhId' type="radio" @id("All") class="" @name("WinLooAll") value="@PANT_SELECT_ALL" @actionEvent("WinLooAll", "onclick")>
            <label class="mb-0 pb-0 pt-0 col-form-label-sm" @forAttr("All") >@msg("lbl.all")</label>         
          </div>
          <div class="col d-flex justify-content-end">@msg("lbl.noPlayers")&nbsp;<span @id(s"NoPlayer_${coId}_${coPhId}")>xx</span></div>
        </div>

        <div class="card pb-0"> <!--  Box for participants --> 
          <div class="tuse-card-header">		
            <div class="float-left mt-2">
              <a @Html(collapse("PantCard")) >
                <h6 class="text-dark"><i class="fa fa-fw fa-bars"></i>@msg("pants")</h6>
              </a>
            </div>
          </div>
        
          <div @id("PantCard") class="card-body pb-2 pt-0 collapse">

            <!-- START table vor participants -->
            <div style="max-height: 250px; overflow: auto;">  
              <table @id("PantTbl") class="table table-sm small table-hover tuse-border">
                <tbody>
                  <tr style="border-bottom:2px solid #ccc;">
                    <td class="text-left tuse-height"><strong>@msg("tbl.hdr.no")</strong></td>
                    <td class="text-left tuse-height"><strong>@msg("tbl.hdr.name")</strong></td>
                    <td class="text-center tuse-height"><strong>@msg("tbl.hdr.info")</strong></td>
                    <td class="text-right tuse-height"><strong>@msg("tbl.hdr.signup")</strong></td>
                  </tr>	               
                </tbody>
              </table>
            </div>
            <!-- END TABLE FRAME-->

          </div>
        </div>
      </div>

    </div><!-- END CARD BODY-->


  </div>  <!-- END CARD-->


</div>